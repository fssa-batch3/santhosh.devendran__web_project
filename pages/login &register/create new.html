<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="../../assets/css/font style.css" />
    <title>Create New</title>

    <link rel="stylesheet" href="../../assets/css/login &rigister/create new.css">
    <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>

</head>

<body>
    <h2>Rigister Now</h2>
    <main>

        <section class="form">
            <form class="details" role="form" onsubmit="signUp(event);">
                <div class="name">
                    <div class="firstname">
                        <lable class="lable">First Name:</lable>
                        <input id="firstname" name="firstname" type="text" class="input" pattern="[a-zA-Z]+" placeholder="First Name"
                            >
                    </div>
                    <div class="lastname">
                        <label class="lable">Last Name:</label>
                        <input id="lastname" name="lastname" type="text" class="input" pattern="[a-zA-Z]+" placeholder="Last Name"
                            >
                    </div>
                </div>
                <div class="flex">
                    <lable class="lable">user name:</lable>
                    <input id="username" name="username" type="text" pattern="[a-zA-Z0-9]+" class="input" required>
                </div>
                <div class="flex">
                    <lable class="lable">D.O.B:</lable>
                    <input id="dob" name="dob" type="date"  class="input" required>
                </div>
                <div class="flex">
                    <lable class="lable">Mail ID:</lable>
                    <input id="email" name="email" type="email" class="input" placeholder="firstname@domain.com" required>
                </div>
                <div class="flex">
                    <lable class="lable">Mobile Number:</lable>
                    <input id="mobilenumber" name="mobilenumber" type="tel"   class="input" placeholder="+91 89250 *****" required>
                </div>
                <div class="flex">
                    <lable class="lable">Password:</lable>
                    <input id="password" name="password" type="password" class="input" pattern = "[a-zA-Z0-9!-@]+" placeholder="Enter Your password" required>
                </div>
                <div class="flex">
                    <lable class="lable">Confirm Password:</lable>
                    <input id="confirmpassword" name="confirmpassword" type="password"  class="input" pattern = "[a-zA-Z0-9!-@]+" placeholder="Reenter Your Password"
                        required>
                </div>

                <div class="submit">
                    <a>
                        <button type="submit">submit</button>
                    </a>
                </div>
                <a href="../../index.html">
                    <P>Already have account</P>
                </a>
            </form>

        </section>
    </main>

    <script>


function signUp(e) {

    e.preventDefault();
    let first_name =  document.getElementById("firstname").value;
    let last_name =  document.getElementById("lastname").value;
    let user_name =  document.getElementById("username").value;
    let dob =  document.getElementById("dob").value;
    let email =  document.getElementById("email").value;
    let mobile_number =  document.getElementById("mobilenumber").value;
    let password =  document.getElementById("password").value;
    let confirm_password =  document.getElementById("confirmpassword").value;
    let user_bio = "";
    let user_post=[];
    let uuid = uuidv4();

        function checkPassword(){
            if (password!==confirm_password){
                alert("Re-enter the Password");
                confirm_password.value=reset();
            }
          
        }
        checkPassword()
    let user_list = JSON.parse(localStorage.getItem('user_list')) || [];

    let exist = user_list.length && 
        JSON.parse(localStorage.getItem('user_list')).some(data => 
            data.user_name.toLowerCase() == user_name.toLowerCase()||
            data.mobile_number.toLowerCase() == mobile_number.toLowerCase()
        );

    if(!exist){
        user_list.push({ first_name, last_name, 
            user_name, dob,email,mobile_number,password,confirm_password,user_bio,uuid });

        localStorage.setItem('user_list', JSON.stringify(user_list));

        console.log(localStorage.getItem('user_list'));

        document.querySelector('form').reset();
        document.getElementById('user_email');
        alert('Account created Successfully');
        window.location.href = "../../index.html";
    }
    
    else{
        localStorage.setItem('unic_id', JSON.stringify(user_name));
        alert('Sorry the User already Exist!!');
        document.querySelector('form').reset();
    }
    
}


//  user name checking    /////



    </script>



    


</body>



</html>